##### 缓存注解和事务注解一起使用
```
更新成功
到这里也就解决了本文开篇所提到的问题，我们希望程序是先提交事务，然后更新缓存。
而真正的执行顺序是，先清除缓存，然后提交事务。

那这样会有什么问题呢？先清除缓存，然后在事务还没有提交之前，程序就收到了用户的请求，发现缓存中没有数据，
则去数据库中获取数据（事务还没有提交则获取到旧值），
]同时将获取的数据添加到缓存中。此时会导致数据库和缓存数据不一致。
```

##### 如何解决

```
事务是一个很容易出问题的操作，@Transactional事务不要滥用 ，用的时候要尽可能的缩小事务范围，
在事务方法中只做事务相关的操作。

```